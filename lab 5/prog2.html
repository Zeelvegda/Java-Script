<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4. Write a JavaScript program to validate user data given from the HTML form (A)
        1. username must be of minimum 8 characters
        2. password must contain at least 1 digit and 1 special character and should be between 8-
        12 characters
        3. password and repeat password must be same
        4. age must be greater than 18 (calculate from date of birth)
        5. enrollment must be of 11 digits
        6. email validatio </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        .form-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            width: 300px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .form-group .error {
            color: red;
            font-size: 0.9em;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Validation Form</h1>
        <div class="form-group">
            <label>Username:</label>
            <input id="username" type="text">
        </div>
        <br>
        <div class="form-group">
            <label>Password:</label>
            <input id="password" type="password">
        </div>
        <br>
        <div class="form-group">
            <label>Confirm Password:</label>
            <input id="password1" type="password">
        </div>
        <br>
        <div class="form-group">
            <label>Date Of Birth:</label>
            <input id="DOB" type="date">
        </div>
        <br>
        <div class="form-group">
            <label>Enrollment:</label>
            <input id="enrollment" type="text">
        </div>
        <br>
        <div class="form-group">
            <label>Email:</label>
            <input id="email" type="email">
        </div>
        <br>
        <div class="form-group">
            <button onclick="checkdata()" id="button" style="margin:10px;background-color: rgb(42, 122, 196); border-radius: 5px; border: 0;">Log in</button>
        </div>
        <br>
        <span id="errmsg"  class="error"></span>
    </div>
    <script>
        function calculateAge(dob) {
            let diffMs = Date.now() - dob.getTime();
            let ageDt = new Date(diffMs);
            return Math.abs(ageDt.getUTCFullYear() - 1970);
        }

        let age = calculateAge(new Date(dob));

        function checkdata(){
            let name = document.getElementById('username').value;
            let pass = document.getElementById('password').value;
            let pass1 = document.getElementById('password1').value;
            let dob = document.getElementById('DOB').value;
            let enroll = document.getElementById('enrollment').value;
            let email = document.getElementById('email').value;
            
            const passwordPattern = /^(?=.\d)(?=.[!@#$%^&*]).{8,12}$/;
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          
            if (name.length < 8) {
                document.getElementById('username').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Username must be at least 8 characters long";
            }
            else if (!passwordPattern.test(pass)) {
                document.getElementById('password').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Password must be 8-12 characters long and contain at least 1 digit and 1 special character";
            }
            else if (pass !== pass1) {
                document.getElementById('password1').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Passwords do not match";
            }
            else if (age < 18) {
                document.getElementById('DOB').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "You must be at least 18 years old";
            }
            else if (enroll.length !== 11 || isNaN(enroll)) {
                document.getElementById('').style.borderColor = 'red';
                errmsg.innerHTML = "Enrollment number must be 11 digits";
            }
            else if (!emailPattern.test(email)) {
                errmsg.innerHTML = "Invalid email address";
            }
            else if (errmsg.innerHTML === '') {
                alert('Login successful!');
            }
        }
    </script>
</body>
</html>